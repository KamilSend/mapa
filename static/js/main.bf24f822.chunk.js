(this.webpackJsonpmapa=this.webpackJsonpmapa||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(24),i=a.n(r),c=(a(58),a(25)),o=a(26),l=a(30),h=a(29),d=a(16),u=a.n(d),j=a(36),p=a.n(j),b=a(50),m=a(18),v=a(52),O=a(31);a(77),a(109);O.a.initializeApp({apiKey:"AIzaSyDMFdB6H51Ut_sed2bFkO9O0FvM--dPTng",authDomain:"mapa-6578a.firebaseapp.com",projectId:"mapa-6578a",storageBucket:"mapa-6578a.appspot.com",messagingSenderId:"821622880820",appId:"1:821622880820:web:225830526a309ad05f6861",measurementId:"G-3K4RY98RSW"});var g=O.a.auth;O.a.database;function f(e,t,a,n,s,r,i,c,o,l){var h={"Content-Type":"application/json"},d=[{level:"woj",v:n},{level:"pow",v:s},{level:"gmi",v:r},{level:"msc",v:i},{level:"kod",v:o},{level:"ulc",v:c},{level:"nr",v:l}],j=function(d){g().createUserWithEmailAndPassword(e,t).then((function(t){var j=t.user.uid;u.a.patch("https://mapa-6578a-default-rtdb.firebaseio.com/mapa.json",Object(m.a)({},j,{email:e,nickname:a,province:n,county:s,community:r,village:i,street:c,zipCode:o,buildingNumber:l,coordinates:d.data.features[0].geometry.coordinates}),{headers:h}).catch((function(e){console.log(e)}))})).catch((function(e){return console.log(e)}))};return u.a.post("https://capap.gugik.gov.pl/api/fts/hier/pkt/qq",d,{headers:h}).then((function(e){if(0===e.data.features.length){var t=[].concat(d);t[6]={level:"nr",v:""},u.a.post("https://capap.gugik.gov.pl/api/fts/hier/pkt/qq",t,{headers:h}).then((function(e){if(0===e.data.features.length){var a=Object(v.a)(t);a[5]={level:"ulc",v:""},u.a.post("https://capap.gugik.gov.pl/api/fts/hier/pkt/qq",a,{headers:h}).then((function(e){0===e.data.features.length?alert("niepoprawne dane adresowe"):j(e)}))}else j(e)}))}else j(e)}))}var x=a(111),y=a(115),k=a(116),w=a(28),C=a.n(w),N=(a(99),a(47),a(2)),P=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={error:null,email:"",password:"",nickname:"",province:"",county:"",community:"",village:"",street:"",zipCode:"",buildingNumber:"",coordinates:[],loader:!1},e}return Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(m.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.nickname){e.next=3;break}return alert("Podaj nazw\u0119 u\u017cytkownika"),e.abrupt("return");case 3:if(""!==this.state.email){e.next=6;break}return alert("Podaj poprawny adres email"),e.abrupt("return");case 6:if(""!==this.state.password){e.next=9;break}return alert("Has\u0142o musi zawiera\u0107 przynajmniej 6 znak\xf3w"),e.abrupt("return");case 9:if(""!==this.state.province){e.next=12;break}return alert("Podaj wojew\xf3dztwo"),e.abrupt("return");case 12:if(""!==this.state.county){e.next=15;break}return alert("Podaj powiat"),e.abrupt("return");case 15:if(""!==this.state.community){e.next=18;break}return alert("Podaj Gmine"),e.abrupt("return");case 18:if(""!==this.state.village){e.next=21;break}return alert("Podaj Miejscowo\u015b\u0107"),e.abrupt("return");case 21:return this.setState({loader:!0}),t.preventDefault(),this.setState({error:""}),e.prev=24,e.next=27,f(this.state.email,this.state.password,this.state.nickname,this.state.province,this.state.county,this.state.community,this.state.village,this.state.street,this.state.zipCode,this.state.buildingNumber);case 27:this.setState({loader:!1}),e.next=34;break;case 30:e.prev=30,e.t0=e.catch(24),this.setState({error:e.t0.message}),this.setState({loader:!0});case 34:case"end":return e.stop()}}),e,this,[[24,30]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(N.jsxs)("div",{children:[this.state.loader?Object(N.jsx)("div",{className:"loaderContainer",children:Object(N.jsx)(C.a,{type:"Puff",color:"#00BFFF",height:500,width:500,visible:this.state.loader})}):null,Object(N.jsxs)(x.a,{children:[Object(N.jsx)("h2",{children:"Zarejestruj nowego u\u017cytkownika"}),Object(N.jsxs)(y.a,{className:"signupForm",children:[Object(N.jsxs)(y.a.Group,{controlId:"formNickname",children:[Object(N.jsx)(y.a.Label,{children:"Nickname"}),Object(N.jsx)(y.a.Control,{type:"nickname",name:"nickname",onChange:this.handleChange.bind(this),value:this.state.nickname,placeholder:"Podaj nick"})]}),Object(N.jsxs)(y.a.Group,{controlId:"formEmail",children:[Object(N.jsx)(y.a.Label,{children:"Email address"}),Object(N.jsx)(y.a.Control,{type:"email",name:"email",onChange:this.handleChange.bind(this),value:this.state.email,placeholder:"Podaj email"})]}),Object(N.jsxs)(y.a.Group,{controlId:"formPassword",children:[Object(N.jsx)(y.a.Label,{children:"Password"}),Object(N.jsx)(y.a.Control,{type:"password",name:"password",onChange:this.handleChange.bind(this),value:this.state.password,placeholder:"Podaj has\u0142o"})]}),Object(N.jsxs)(y.a.Group,{controlId:"formProvince",children:[Object(N.jsx)(y.a.Label,{children:"Wojew\xf3dztwo"}),Object(N.jsx)(y.a.Control,{type:"province",name:"province",onChange:this.handleChange.bind(this),value:this.state.province,placeholder:"Wojew\xf3dztwo"})]}),Object(N.jsxs)(y.a.Group,{controlId:"formCounty",children:[Object(N.jsx)(y.a.Label,{children:"Powiat"}),Object(N.jsx)(y.a.Control,{type:"county",name:"county",onChange:this.handleChange.bind(this),value:this.state.county,placeholder:"Powiat"})]}),Object(N.jsxs)(y.a.Group,{controlId:"formCommunity",children:[Object(N.jsx)(y.a.Label,{children:"Gmina"}),Object(N.jsx)(y.a.Control,{type:"community",name:"community",onChange:this.handleChange.bind(this),value:this.state.community,placeholder:"Gmina"})]}),Object(N.jsxs)(y.a.Group,{controlId:"formVillage",children:[Object(N.jsx)(y.a.Label,{children:"Miejscowo\u015b\u0107"}),Object(N.jsx)(y.a.Control,{type:"village",name:"village",onChange:this.handleChange.bind(this),value:this.state.village,placeholder:"Miejscowo\u015b\u0107"})]}),Object(N.jsxs)(y.a.Group,{controlId:"formStreet",children:[Object(N.jsx)(y.a.Label,{children:"Ulica"}),Object(N.jsx)(y.a.Control,{type:"street",name:"street",onChange:this.handleChange.bind(this),value:this.state.street,placeholder:"Ulica"})]}),Object(N.jsxs)(y.a.Group,{controlId:"formZipCode",children:[Object(N.jsx)(y.a.Label,{children:"Kod pocztowy"}),Object(N.jsx)(y.a.Control,{type:"zipCode",name:"zipCode",onChange:this.handleChange.bind(this),value:this.state.zipCode,placeholder:"Kod pocztowy"})]}),Object(N.jsxs)(y.a.Group,{controlId:"formBuildingNumber",children:[Object(N.jsx)(y.a.Label,{children:"Numer budynku"}),Object(N.jsx)(y.a.Control,{type:"buildingNumber",name:"buildingNumber",onChange:this.handleChange.bind(this),value:this.state.buildingNumber,placeholder:"Numer budynku"})]})]}),Object(N.jsx)(k.a,{className:"signupButton",type:"submit",onClick:this.handleSubmit.bind(this),children:"Sign up"}),this.state.error?Object(N.jsx)("p",{children:this.state.error}):null]})]})}}]),a}(n.Component),z=a(112),S=a(113),I=a(114),F=a(117),L=a(15),G=a.n(L);a(102),a(103);G.a.Icon.Default.imagePath="img/";var U=function(e){var t=e.coordinates.map((function(e,t){return Object(N.jsx)(z.a,{position:e,children:Object(N.jsx)(S.a,{children:e})},t)}));return Object(N.jsx)("div",{className:"leafletContainer",children:Object(N.jsxs)(I.a,{center:[52.0989333,19.2967582,7],zoom:6,scrollWheelZoom:!1,children:[Object(N.jsx)(F.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t]})})},B=(a(104),function(e){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(k.a,{className:"displayUsers",onClick:e.fetchUsers,children:"Pobierz u\u017cytkownik\xf3w"})})}),H=(a(105),function(e){var t=e.users.map((function(e,t){return Object(N.jsxs)("li",{children:[Object(N.jsx)("span",{className:"lp",children:t+1}),Object(N.jsx)("span",{children:e.nickname}),Object(N.jsx)("span",{children:e.province}),Object(N.jsx)("span",{children:e.county}),Object(N.jsx)("span",{children:e.community}),Object(N.jsx)("span",{children:e.village})]},t)}));return Object(N.jsxs)(x.a,{className:"userListWrapper",children:[Object(N.jsx)("h2",{children:"Lista u\u017cytkownik\xf3w:"}),Object(N.jsx)("span",{className:"lp tableHeader",children:"Lp"}),Object(N.jsx)("span",{className:"tableHeader",children:"Nazwa"}),Object(N.jsx)("span",{className:"tableHeader",children:"Wojew\xf3dztwo"}),Object(N.jsx)("span",{className:"tableHeader",children:"Powiat"}),Object(N.jsx)("span",{className:"tableHeader",children:"Gmina"}),Object(N.jsx)("span",{className:"tableHeader",children:"Miejscowo\u015b\u0107"}),Object(N.jsx)("ul",{className:"userList",children:""===e.users[0].nickname?null:t})]})}),M=(a(106),a(107),function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={coordinates:[],users:[{nickname:"",province:"",county:"",community:"",village:""}],loader:!1},e.handleFetchUsers=function(){e.setState({loader:!0});var t=[];u.a.get("https://mapa-6578a-default-rtdb.firebaseio.com/mapa.json").then((function(a){var n=Object.keys(a.data),s=[];n.forEach((function(n,r){var i=[a.data[n].coordinates[1],a.data[n].coordinates[0]];t.push(i);var c={nickname:a.data[n].nickname,province:a.data[n].province,county:a.data[n].county,community:a.data[n].community,village:a.data[n].village};s.push(c),e.setState({users:s})})),e.setState({coordinates:t})})).catch((function(e){return console.log(e)})).then((function(){return e.setState({loader:!1})}))},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(N.jsxs)("div",{className:"App",children:[this.state.loader?Object(N.jsx)("div",{className:"loaderContainer",children:Object(N.jsx)(C.a,{type:"Puff",color:"#00BFFF",height:500,width:500,visible:this.state.loader})}):null,Object(N.jsxs)("div",{className:"userWrapper",children:[Object(N.jsx)(P,{}),Object(N.jsx)(H,{users:this.state.users})]}),Object(N.jsx)(B,{fetchUsers:this.handleFetchUsers}),Object(N.jsx)(U,{coordinates:this.state.coordinates})]})}}]),a}(n.Component)),W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,118)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),r(e),i(e)}))};i.a.render(Object(N.jsx)(s.a.StrictMode,{children:Object(N.jsx)(M,{})}),document.getElementById("root")),W()},58:function(e,t,a){},99:function(e,t,a){}},[[108,1,2]]]);
//# sourceMappingURL=main.bf24f822.chunk.js.map