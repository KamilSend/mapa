(this.webpackJsonpmapa=this.webpackJsonpmapa||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(24),i=a.n(r),o=(a(58),a(25)),c=a(26),l=a(30),h=a(29),d=a(16),u=a.n(d),p=a(36),j=a.n(p),b=a(50),m=a(18),g=a(52),v=a(31);a(77),a(109);v.a.initializeApp({apiKey:"AIzaSyDMFdB6H51Ut_sed2bFkO9O0FvM--dPTng",authDomain:"mapa-6578a.firebaseapp.com",projectId:"mapa-6578a",storageBucket:"mapa-6578a.appspot.com",messagingSenderId:"821622880820",appId:"1:821622880820:web:225830526a309ad05f6861",measurementId:"G-3K4RY98RSW"});var O=v.a.auth;v.a.database;function f(e,t,a,n,s,r,i,o,c,l){var h={"Content-Type":"application/json"},d=[{level:"woj",v:n},{level:"pow",v:s},{level:"gmi",v:r},{level:"msc",v:i},{level:"kod",v:c},{level:"ulc",v:o},{level:"nr",v:l}],p=function(d){O().createUserWithEmailAndPassword(e,t).then((function(t){var p=t.user.uid;u.a.patch("https://mapa-6578a-default-rtdb.firebaseio.com/mapa.json",Object(m.a)({},p,{email:e,nickname:a,province:n,county:s,community:r,village:i,street:o,zipCode:c,buildingNumber:l,coordinates:d.data.features[0].geometry.coordinates}),{headers:h}).catch((function(e){console.log(e)}))})).catch((function(e){return console.log(e)}))};return u.a.post("https://capap.gugik.gov.pl/api/fts/hier/pkt/qq",d,{headers:h}).then((function(e){if(0===e.data.features.length){console.log("spr\xf3buje bez numeru domu");var t=[].concat(d);t[6]={level:"nr",v:""},console.log(t),u.a.post("https://capap.gugik.gov.pl/api/fts/hier/pkt/qq",t,{headers:h}).then((function(e){if(0===e.data.features.length){console.log("spr\xf3buje bez ulicy");var a=Object(g.a)(t);a[5]={level:"ulc",v:""},console.log(a),u.a.post("https://capap.gugik.gov.pl/api/fts/hier/pkt/qq",a,{headers:h}).then((function(e){0===e.data.features.length?(console.log("niepoprawne dane adresowe"),alert("niepoprawne dane adresowe")):p(e)}))}else p(e)}))}else console.log(e),console.log("poprawne dane adresowe"),p(e)}))}var x=a(111),y=a(115),w=a(116),k=(a(79),a(28)),C=a.n(k),z=(a(47),a(2)),N=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={error:null,email:"",password:"",nickname:"",province:"",county:"",community:"",village:"",street:"",zipCode:"",buildingNumber:"",coordinates:[],loader:!1},e}return Object(c.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(m.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.nickname){e.next=3;break}return alert("Podaj nazw\u0119 u\u017cytkownika"),e.abrupt("return");case 3:if(""!==this.state.email){e.next=6;break}return alert("Podaj poprawny adres email"),e.abrupt("return");case 6:if(""!==this.state.password){e.next=9;break}return alert("Has\u0142o musi zawiera\u0107 przynajmniej 6 znak\xf3w"),e.abrupt("return");case 9:if(""!==this.state.province){e.next=12;break}return alert("Podaj wojew\xf3dztwo"),e.abrupt("return");case 12:if(""!==this.state.county){e.next=15;break}return alert("Podaj powiat"),e.abrupt("return");case 15:if(""!==this.state.community){e.next=18;break}return alert("Podaj Gmine"),e.abrupt("return");case 18:if(""!==this.state.village){e.next=21;break}return alert("Podaj Miejscowo\u015b\u0107"),e.abrupt("return");case 21:return this.setState({loader:!0}),t.preventDefault(),this.setState({error:""}),e.prev=24,e.next=27,f(this.state.email,this.state.password,this.state.nickname,this.state.province,this.state.county,this.state.community,this.state.village,this.state.street,this.state.zipCode,this.state.buildingNumber);case 27:this.setState({loader:!1}),e.next=34;break;case 30:e.prev=30,e.t0=e.catch(24),this.setState({error:e.t0.message}),this.setState({loader:!0});case 34:case"end":return e.stop()}}),e,this,[[24,30]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(z.jsxs)("div",{children:[this.state.loader?Object(z.jsx)("div",{className:"loaderContainer",children:Object(z.jsx)(C.a,{type:"Puff",color:"#00BFFF",height:500,width:500,visible:this.state.loader})}):null,Object(z.jsxs)(x.a,{children:[Object(z.jsx)("h2",{children:"Zarejestruj nowego u\u017cytkownika"}),Object(z.jsxs)(y.a,{className:"signupForm",children:[Object(z.jsxs)(y.a.Group,{controlId:"formNickname",children:[Object(z.jsx)(y.a.Label,{children:"Nickname"}),Object(z.jsx)(y.a.Control,{type:"nickname",name:"nickname",onChange:this.handleChange.bind(this),value:this.state.nickname,placeholder:"Podaj nick"})]}),Object(z.jsxs)(y.a.Group,{controlId:"formEmail",children:[Object(z.jsx)(y.a.Label,{children:"Email address"}),Object(z.jsx)(y.a.Control,{type:"email",name:"email",onChange:this.handleChange.bind(this),value:this.state.email,placeholder:"Podaj email"})]}),Object(z.jsxs)(y.a.Group,{controlId:"formPassword",children:[Object(z.jsx)(y.a.Label,{children:"Password"}),Object(z.jsx)(y.a.Control,{type:"password",name:"password",onChange:this.handleChange.bind(this),value:this.state.password,placeholder:"Podaj has\u0142o"})]}),Object(z.jsxs)(y.a.Group,{controlId:"formProvince",children:[Object(z.jsx)(y.a.Label,{children:"Wojew\xf3dztwo"}),Object(z.jsx)(y.a.Control,{type:"province",name:"province",onChange:this.handleChange.bind(this),value:this.state.province,placeholder:"Wojew\xf3dztwo"})]}),Object(z.jsxs)(y.a.Group,{controlId:"formCounty",children:[Object(z.jsx)(y.a.Label,{children:"Powiat"}),Object(z.jsx)(y.a.Control,{type:"county",name:"county",onChange:this.handleChange.bind(this),value:this.state.county,placeholder:"Powiat"})]}),Object(z.jsxs)(y.a.Group,{controlId:"formCommunity",children:[Object(z.jsx)(y.a.Label,{children:"Gmina"}),Object(z.jsx)(y.a.Control,{type:"community",name:"community",onChange:this.handleChange.bind(this),value:this.state.community,placeholder:"Gmina"})]}),Object(z.jsxs)(y.a.Group,{controlId:"formVillage",children:[Object(z.jsx)(y.a.Label,{children:"Miejscowo\u015b\u0107"}),Object(z.jsx)(y.a.Control,{type:"village",name:"village",onChange:this.handleChange.bind(this),value:this.state.village,placeholder:"Miejscowo\u015b\u0107"})]}),Object(z.jsxs)(y.a.Group,{controlId:"formStreet",children:[Object(z.jsx)(y.a.Label,{children:"Ulica"}),Object(z.jsx)(y.a.Control,{type:"street",name:"street",onChange:this.handleChange.bind(this),value:this.state.street,placeholder:"Ulica"})]}),Object(z.jsxs)(y.a.Group,{controlId:"formZipCode",children:[Object(z.jsx)(y.a.Label,{children:"Kod pocztowy"}),Object(z.jsx)(y.a.Control,{type:"zipCode",name:"zipCode",onChange:this.handleChange.bind(this),value:this.state.zipCode,placeholder:"Kod pocztowy"})]}),Object(z.jsxs)(y.a.Group,{controlId:"formBuildingNumber",children:[Object(z.jsx)(y.a.Label,{children:"Numer budynku"}),Object(z.jsx)(y.a.Control,{type:"buildingNumber",name:"buildingNumber",onChange:this.handleChange.bind(this),value:this.state.buildingNumber,placeholder:"Numer budynku"})]})]}),Object(z.jsx)(w.a,{className:"signupButton",type:"submit",onClick:this.handleSubmit.bind(this),children:"Sign up"}),this.state.error?Object(z.jsx)("p",{children:this.state.error}):null]})]})}}]),a}(n.Component),P=a(112),S=a(113),I=a(114),F=a(117),L=a(15),G=a.n(L);a(102),a(103);G.a.Icon.Default.imagePath="img/";var U=function(e){var t=e.coordinates.map((function(e){return Object(z.jsx)(P.a,{position:e,children:Object(z.jsxs)(S.a,{children:["A pretty CSS3 popup. ",Object(z.jsx)("br",{})," Easily customizable."]})})}));return Object(z.jsx)("div",{className:"leafletContainer",children:Object(z.jsxs)(I.a,{center:[52.0989333,19.2967582,7],zoom:6,scrollWheelZoom:!1,children:[Object(z.jsx)(F.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t]})})},W=(a(104),function(e){return Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(w.a,{className:"displayUsers",onClick:e.fetchUsers,children:"Wy\u015bwietl u\u017cytkownik\xf3w"})})}),B=(a(105),function(e){var t=e.users.map((function(e,t){return Object(z.jsxs)("li",{children:[Object(z.jsx)("span",{className:"lp",children:t+1}),Object(z.jsx)("span",{children:e.nickname}),Object(z.jsx)("span",{children:e.province}),Object(z.jsx)("span",{children:e.county}),Object(z.jsx)("span",{children:e.community}),Object(z.jsx)("span",{children:e.village})]},t)}));return Object(z.jsxs)(x.a,{className:"userListWrapper",children:[Object(z.jsx)("h2",{children:"Lista u\u017cytkownik\xf3w:"}),Object(z.jsx)("span",{className:"lp",children:"Lp"}),Object(z.jsx)("span",{children:"Nazwa"}),Object(z.jsx)("span",{children:"Wojew\xf3dztwo"}),Object(z.jsx)("span",{children:"Powiat"}),Object(z.jsx)("span",{children:"Gmina"}),Object(z.jsx)("span",{children:"Miejscowo\u015b\u0107"}),Object(z.jsx)("ul",{className:"userList",children:t})]})}),M=(a(106),a(107),function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={coordinates:[],users:[{nickname:"",province:"",county:"",community:"",village:""}],loader:!1},e.handleFetchUsers=function(){e.setState({loader:!0});var t=[];console.log("pobieram u\u017cytkownik\xf3w"),u.a.get("https://mapa-6578a-default-rtdb.firebaseio.com/mapa.json").then((function(a){var n=Object.keys(a.data),s=[];n.map((function(n,r){var i=[a.data[n].coordinates[1],a.data[n].coordinates[0]];t.push(i);var o={nickname:a.data[n].nickname,province:a.data[n].province,county:a.data[n].county,community:a.data[n].community,village:a.data[n].village};s.push(o),e.setState({users:s})}));e.setState({coordinates:t})})).catch((function(e){return console.log(e)})).then((function(){return e.setState({loader:!1})}))},e}return Object(c.a)(a,[{key:"render",value:function(){return Object(z.jsxs)("div",{className:"App",children:[this.state.loader?Object(z.jsx)("div",{className:"loaderContainer",children:Object(z.jsx)(C.a,{type:"Puff",color:"#00BFFF",height:500,width:500,visible:this.state.loader})}):null,Object(z.jsxs)("div",{className:"userWrapper",children:[Object(z.jsx)(N,{}),Object(z.jsx)(B,{users:this.state.users})]}),Object(z.jsx)(W,{fetchUsers:this.handleFetchUsers}),Object(z.jsx)(U,{coordinates:this.state.coordinates})]})}}]),a}(n.Component)),A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,118)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),r(e),i(e)}))};i.a.render(Object(z.jsx)(s.a.StrictMode,{children:Object(z.jsx)(M,{})}),document.getElementById("root")),A()},58:function(e,t,a){},79:function(e,t,a){}},[[108,1,2]]]);
//# sourceMappingURL=main.fb688d59.chunk.js.map